<div class="list-content">
  <mat-accordion>
    <mat-expansion-panel [disabled]="true">
      <mat-expansion-panel-header>
        <mat-panel-title>
          {{ headerTitle }}
        </mat-panel-title>
        <mat-panel-description>
          {{ descriptionLabel }}
        </mat-panel-description>
      </mat-expansion-panel-header>
    </mat-expansion-panel>
    <ng-container *ngFor="let entity of entityList | async">
      <mat-expansion-panel>
        <mat-expansion-panel-header collapsedHeight="auto"
                                    expandedHeight="auto">
          <mat-panel-title data-se="entity-title">
            {{ getTitle(entity) }}
          </mat-panel-title>
          <mat-panel-description>
            <div data-se="entity-description">
              {{ getDescription(entity.dto) }}
            </div>
          </mat-panel-description>
        </mat-expansion-panel-header>
        <ng-container [ngSwitch]="listType">
          <ddaplib-service-definition *ngSwitchCase="'service'"
                                      [name]="entity.name"
                                      [listData]="entity.dto"
                                      [description]="getEntityDescription(entity)">
          </ddaplib-service-definition>
          <ddaplib-access-policies *ngSwitchCase="'policies'"
                                   [name]="entity.name"
                                   [listData]="entity.dto"
                                   [description]="getEntityDescription(entity)">
          </ddaplib-access-policies>
          <json-editor *ngSwitchCase="'json'"
                       [options]="editorOptions"
                       [data]="entity.dto">
          </json-editor>
          <ng-container *ngSwitchDefault>
            <mat-divider></mat-divider>
            <ddaplib-entity-viewer [listData]="entity.dto"
                                   [name]="entity.name"
                                   [description]="getEntityDescription(entity)">
            </ddaplib-entity-viewer>
          </ng-container>
        </ng-container>
        <mat-action-row>
          <button mat-button
                  [routerLink]="[entity.name]"
                  color="primary"
                  class="uppercase">
            Edit
          </button>
        </mat-action-row>
      </mat-expansion-panel>
    </ng-container>
  </mat-accordion>
</div>
