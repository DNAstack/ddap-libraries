<div class="list-content">
  <mat-accordion>
    <mat-expansion-panel [disabled]="true">
      <mat-expansion-panel-header>
        <mat-panel-title>
          option
        </mat-panel-title>
        <mat-panel-description>
          value
        </mat-panel-description>
      </mat-expansion-panel-header>
    </mat-expansion-panel>
    <ng-container *ngIf="options">
      <ng-container *ngFor="let optionDescriptor of options.descriptors | keyvalue">
        <mat-expansion-panel (opened)="resetSelection()">
          <mat-expansion-panel-header>
            <mat-panel-title data-se="option-name">
              {{ optionDescriptor.value.label }}
            </mat-panel-title>
            <mat-panel-description data-se="option-value">
              {{ getValueForDescriptor(optionDescriptor.key) }}
            </mat-panel-description>
          </mat-expansion-panel-header>
          <p>{{ optionDescriptor.value.description }}</p>
          <mat-form-field appearance="outline">
            <mat-label>New value</mat-label>
            <input matInput
                   [placeholder]="getValueForDescriptor(optionDescriptor.key)"
                   [(ngModel)]="newOptionValue"
                   data-se="option-input">
          </mat-form-field>
          <mat-error *ngIf="error" data-se="option-error">
            {{ error }}
          </mat-error>
          <mat-action-row>
            <button (click)="submitted.emit({ optionKey: optionDescriptor.key, newValue: newOptionValue })"
                    mat-button
                    color="primary"
                    class="uppercase"
                    data-se="option-submit">
              Update Value
            </button>
          </mat-action-row>
        </mat-expansion-panel>
      </ng-container>
    </ng-container>
  </mat-accordion>
</div>
