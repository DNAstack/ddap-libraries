<div class="list-content">
  <mat-accordion>
    <mat-expansion-panel [disabled]="true">
      <mat-expansion-panel-header>
        <mat-panel-title>
          option
        </mat-panel-title>
        <mat-panel-description>
          value
        </mat-panel-description>
      </mat-expansion-panel-header>
    </mat-expansion-panel>
    <ng-container *ngFor="let option of options | keyvalue">
      <mat-expansion-panel (opened)="resetSelection()"
                           *ngIf="option.key !== 'descriptors'">
        <mat-expansion-panel-header>
          <mat-panel-title data-se="option-name">
            {{ getDescriptorFor(option.key).label }}
          </mat-panel-title>
          <mat-panel-description data-se="option-value">
            {{ option.value }}
          </mat-panel-description>
        </mat-expansion-panel-header>
        <p>{{ getDescriptorFor(option.key).description }}</p>
        <mat-form-field appearance="outline">
          <mat-label>New value</mat-label>
          <input matInput
                 [placeholder]="option.value"
                 [(ngModel)]="newOptionValue"
                 data-se="option-input">
        </mat-form-field>
        <mat-error *ngIf="error" data-se="option-error">
          {{ error }}
        </mat-error>
        <mat-action-row>
          <button (click)="submitted.emit({ optionKey: option.key, newValue: newOptionValue })"
                  mat-button
                  color="primary"
                  class="uppercase"
                  data-se="option-submit">
            Update Value
          </button>
        </mat-action-row>
      </mat-expansion-panel>
    </ng-container>
  </mat-accordion>
</div>
