<form novalidate
      class="realm-form"
      [formGroup]="form">
  <mat-form-field>
    <mat-label>Realm</mat-label>
    <input matInput
           #realmInput
           data-se="realm-input"
           formControlName="realm"
           [readonly]="isReadOnly"
           autocomplete="off"
           (change)="openRealmChangeConfirmationDialog('edit')">
    <mat-error *ngIf="form.get('realm').invalid">Realm name must be 3-46 characters and alphanumeric</mat-error>
    <mat-icon matSuffix
              data-se="realm-menu"
              [matMenuTriggerFor]="actionsMenu">
      more_vert
    </mat-icon>
    <mat-menu #actionsMenu="matMenu">
      <button mat-menu-item
              data-se="edit-realm"
              *ngIf="actions.indexOf('edit') !== -1"
              (click)="toggleReadonly()">
        Edit
      </button>
      <button mat-menu-item
              data-se="delete-realm"
              *ngIf="(realm !== 'master' && actions.indexOf('delete') !== -1)"
              (click)="openRealmChangeConfirmationDialog('delete')">
        Delete
      </button>
    </mat-menu>
  </mat-form-field>
</form>
